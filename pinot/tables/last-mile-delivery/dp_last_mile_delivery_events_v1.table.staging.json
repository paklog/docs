{
  "tableName": "dp_last_mile_delivery_events_v1",
  "tableType": "REALTIME",
  "tenants": {"server": "domain-transportation", "broker": "domain-transportation"},
  "segmentsConfig": {"timeColumnName": "event_time", "replication": "2", "retentionTimeUnit": "DAYS", "retentionTimeValue": "30"},
  "tableIndexConfig": {"invertedIndexColumns": ["event_type"], "rangeIndexColumns": ["event_time"]},
  "ingestionConfig": {"transformConfigs": [
    {"columnName": "event_id", "transformFunction": "jsonPathString($, '$.id')"},
    {"columnName": "event_type", "transformFunction": "jsonPathString($, '$.type')"},
    {"columnName": "event_source", "transformFunction": "jsonPathString($, '$.source')"},
    {"columnName": "event_subject", "transformFunction": "jsonPathString($, '$.subject')"},
    {"columnName": "event_time", "transformFunction": "fromDateTime(jsonPathString($, '$.time'), 'yyyy-MM-dd''T''HH:mm:ss[.SSS]XXX')"}
  ]},
  "streamConfigs": {"streamType": "kafka", "stream.kafka.topic.name": "delivery-events", "stream.kafka.consumer.type": "lowlevel", "stream.kafka.decoder.class.name": "org.apache.pinot.plugin.stream.kafka.KafkaJSONMessageDecoder", "stream.kafka.broker.list": "kafka-staging.paklog.com:9092", "stream.kafka.security.protocol": "SASL_PLAINTEXT", "stream.kafka.sasl.mechanism": "SCRAM-SHA-512", "stream.kafka.sasl.jaas.config": "org.apache.kafka.common.security.scram.ScramLoginModule required username=\"${KAFKA_SASL_USERNAME}\" password=\"${KAFKA_SASL_PASSWORD}\";", "realtime.segment.flush.threshold.time": "1h", "realtime.segment.flush.threshold.rows": "500000"}
}

